https://linuxize.com/post/how-to-find-files-in-linux-using-the-command-line/
## **أمر `find` في Linux – شرح تفصيلي**

### **1. ما هو أمر `find`؟**

`find` هو أمر في Linux يُستخدم للبحث عن الملفات والمجلدات داخل النظام بناءً على معايير مختلفة مثل الاسم، النوع، الحجم، التاريخ، الصلاحيات، وغير ذلك.

---

### **2. الصيغة الأساسية للأمر**

```bash
find [المسار] [خيارات البحث] [الإجراء المطلوب]
```

- **`المسار`**: المجلد الذي سيتم البحث بداخله (مثل `/home/` أو `.` للبحث في المجلد الحالي).
- **`خيارات البحث`**: المعايير التي تحدد كيفية البحث (مثل البحث بالاسم أو النوع).
- **`الإجراء المطلوب`**: ما تريد فعله بالملفات التي تجدها (مثل حذفها أو تنفيذ أمر عليها).

---

### **3. البحث عن الملفات والمجلدات**

#### 🔹 البحث عن ملف معين بالاسم

```bash
find /path/to/search -name "filename"
```

مثال:

```bash
find /home -name "test.txt"
```

📌 **ملاحظات**:

- البحث يكون **حساسًا لحالة الأحرف** (حروف كبيرة وصغيرة مختلفة).
- لو أردت البحث بدون حساسية لحالة الأحرف، استخدم `-iname` بدلاً من `-name`:
    
    ```bash
    find /home -iname "test.txt"
    ```
    

#### 🔹 البحث عن الملفات بناءً على النوع

- البحث عن **الملفات العادية** (`f`):
    
    ```bash
    find /home -type f
    ```
    
- البحث عن **المجلدات** (`d`):
    
    ```bash
    find /home -type d
    ```
    
- البحث عن **الروابط الرمزية** (`l`):
    
    ```bash
    find /home -type l
    ```
    

---

### **4. البحث بناءً على الحجم**

- البحث عن ملفات **أكبر من 50 ميجابايت**:
    
    ```bash
    find / -size +50M
    ```
    
- البحث عن ملفات **أصغر من 1 كيلوبايت**:
    
    ```bash
    find / -size -1k
    ```
    
- البحث عن ملفات **بحجم 100 بايت بالضبط**:
    
    ```bash
    find / -size 100c
    ```
    

📌 **الوحدات المستخدمة في `-size`**:

- **`c`** → بالبايت (Bytes)
- **`k`** → بالكيلوبايت (KB)
- **`M`** → بالميجابايت (MB)
- **`G`** → بالجيجابايت (GB)

---

### **5. البحث حسب تاريخ التعديل أو الوصول**

- **البحث عن الملفات التي تم تعديلها خلال آخر 7 أيام**:
    
    ```bash
    find / -mtime -7
    ```
    
- **البحث عن الملفات التي لم يتم تعديلها خلال آخر 30 يومًا**:
    
    ```bash
    find / -mtime +30
    ```
    
- **البحث عن الملفات التي تم الوصول إليها خلال آخر 5 أيام**:
    
    ```bash
    find / -atime -5
    ```
    

📌 **اختصارات هامة**:

- `-mtime`: البحث حسب تاريخ **التعديل**.
- `-atime`: البحث حسب تاريخ **الوصول**.
- `-ctime`: البحث حسب تاريخ **تغيير الخصائص** (مثل الصلاحيات).
- `+N`: تعني **أقدم من N يومًا**.
- `-N`: تعني **أحدث من N يومًا**.

---

### **6. البحث حسب الصلاحيات والملكية**

#### 🔹 البحث عن الملفات حسب الصلاحيات

- البحث عن الملفات بصلاحية **777** (قراءة وكتابة وتنفيذ للجميع):
    
    ```bash
    find / -type f -perm 777
    ```
    
- البحث عن الملفات التي **لا تحتوي على صلاحيات تنفيذ (`x`)**:
    
    ```bash
    find / -type f ! -perm /111
    ```
    

#### 🔹 البحث عن الملفات حسب المالك

- البحث عن جميع الملفات التي يملكها المستخدم **"ali"**:
    
    ```bash
    find / -user ali
    ```
    
- البحث عن جميع الملفات التي تنتمي للمجموعة **"developers"**:
    
    ```bash
    find / -group developers
    ```
    

---

### **7. تنفيذ أوامر على الملفات التي يتم العثور عليها**

#### 🔹 حذف الملفات التي تم العثور عليها

```bash
find /path -type f -name "*.log" -delete
```

📌 ⚠️ **تحذير**: هذا سيحذف الملفات مباشرة دون تأكيد!

#### 🔹 طباعة تفاصيل الملفات باستخدام `ls`

```bash
find /path -type f -exec ls -l {} \;
```

📌 **`{}`** يمثل كل ملف تم العثور عليه.

#### 🔹 ضغط جميع الملفات النصية داخل مجلد

```bash
find /path -type f -name "*.txt" -exec gzip {} \;
```

#### 🔹 تغيير صلاحيات الملفات التي تم العثور عليها

```bash
find /path -type f -name "*.sh" -exec chmod +x {} \;
```

---

### **8. البحث باستخدام تعبيرات منتظمة (Regular Expressions)**

- البحث عن جميع الملفات التي تحتوي على "log" في أي مكان بالاسم:
    
    ```bash
    find /var/log -type f -regex ".*log.*"
    ```
    
- البحث عن جميع الملفات التي تنتهي بـ `.sh` أو `.py`:
    
    ```bash
    find /home -type f -regex ".*\.\(sh\|py\)$"
    ```
    

---

### **9. أمثلة متقدمة**

#### 🔹 البحث عن جميع الملفات الكبيرة وحذفها بعد التأكيد

```bash
find / -size +1G -type f -exec rm -i {} \;
```

#### 🔹 البحث عن جميع الملفات الفارغة وحذفها

```bash
find / -type f -empty -delete
```

#### 🔹 البحث عن الملفات التي تم تعديلها آخر 10 دقائق

```bash
find / -type f -mmin -10
```

---

## **💡 ملخص سريع**

| البحث عن                     | الأمر                                               |
| ---------------------------- | --------------------------------------------------- |
| ملف باسم محدد                | `find / -name "file.txt"`                           |
| ملف بدون حساسية لحالة الأحرف | `find / -iname "file.txt"`                          |
| ملفات حسب النوع              | `find / -type f` (ملفات)، `find / -type d` (مجلدات) |
| ملفات أكبر من 100MB          | `find / -size +100M`                                |
| ملفات تم تعديلها خلال 7 أيام | `find / -mtime -7`                                  |
| ملفات بصلاحية 777            | `find / -perm 777`                                  |
| ملفات مملوكة لمستخدم معين    | `find / -user ali`                                  |
| حذف ملفات تلقائيًا           | `find /path -name "*.log" -delete`                  |
|                              |                                                     |
`2>/dev/null` : هذا لتجاهل أي رسائل خطأ قد تظهر نتيجة نقص صلاحيات الوصول لبعض الملفات.

---

## **🚀 خاتمة**

أمر `find` قوي جدًا ويمكنك استخدامه للبحث عن أي شيء تقريبًا داخل نظام Linux. يمكنك دمجه مع أوامر أخرى مثل `rm`, `chmod`, `ls`, `grep` لإنجاز مهام معقدة بسهولة. 🎯

